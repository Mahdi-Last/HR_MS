<UserControl x:Class="HR_MS.MVVM.Views.Departments.DepartmentsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:HR_MS.MVVM.Views.Departments"
             xmlns:icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:vm="clr-namespace:HR_MS.MVVM.ViewModels.Departments"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.DataContext>
        <vm:DepartmentsViewModel />
    </UserControl.DataContext>

    <StackPanel>
        <TextBlock Text="Departments" Foreground="#537188" FontSize="30" FontWeight="Bold"
                                   DockPanel.Dock="Top" TextAlignment="Center" />

        <Grid Margin="0,0,0,15">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="1" Command="{Binding AddDepartmentCommand}"
            Style="{StaticResource pagingButton}">
                <StackPanel Orientation="Horizontal">
                    <icon:PackIconMaterial Kind="Plus"
                                   Style="{StaticResource menuButtonIcon}"
                                   Margin="0,5"/>
                    <TextBlock Text=" Add Department"/>
                </StackPanel>
            </Button>
        </Grid>

        <DataGrid ItemsSource="{Binding Departments}" SelectedItem="{Binding SelectedDepartment}" Style="{DynamicResource DataGridStyle1}" CellStyle="{DynamicResource DataGridCellStyle1}" IsReadOnly="True"
                          RowStyle="{DynamicResource DataGridRowStyle1}" Grid.Row="5" AutoGenerateColumns="False" MaxHeight="380">
            <!--Data-->
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding DepartmentID}" Header="Department ID"/>
                <DataGridTextColumn Binding="{Binding DepartmentName}" Header="Department Name"/>
                <DataGridTextColumn Binding="{Binding Description}" Header="Description" Width="400"/>
                <DataGridTextColumn Binding="{Binding IsActive}" Header="Is Active"/>

                <DataGridTemplateColumn Width="100">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Button Command="{Binding DataContext.EditDepartmentCommand,RelativeSource={RelativeSource AncestorType=UserControl}}" CommandParameter="{Binding}" Style="{StaticResource actionButton}"  Background="#3a9bdc">
                                    <icon:PackIconMaterial Kind="AccountEdit" Style="{StaticResource actionButtonIcon}"/>
                                </Button>
                                <Button Command="{Binding DataContext.DeleteDepartmentCommand,RelativeSource={RelativeSource AncestorType=UserControl}}" CommandParameter="{Binding}" Style="{StaticResource actionButton}"  Background="#df2c14">
                                    <icon:PackIconMaterial Kind="Delete" Style="{StaticResource actionButtonIcon}"/>
                                </Button>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>

    </StackPanel>
</UserControl>